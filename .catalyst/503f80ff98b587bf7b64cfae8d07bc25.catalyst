{"title":{"en":"G. Subsequences Galore","ru":"G. Подпоследовательности повсюду"},"contestId":"1620","problemIndex":"G","timeLimit":{"en":"10 seconds","ru":"10 секунд"},"memLimit":{"en":"1024 megabytes","ru":"1024 мегабайта"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>For a sequence of strings $$$[t_1, t_2, \\dots, t_m]$$$, let's define the function $$$f([t_1, t_2, \\dots, t_m])$$$ as the number of different strings (<span class=\"tex-font-style-bf\">including the empty string</span>) that are subsequences of <span class=\"tex-font-style-bf\">at least one</span> string $$$t_i$$$. $$$f([]) = 0$$$ (i. e. the number of such strings for an empty sequence is $$$0$$$).</p><p>You are given a sequence of strings $$$[s_1, s_2, \\dots, s_n]$$$. Every string in this sequence consists of lowercase Latin letters and is <span class=\"tex-font-style-bf\">sorted</span> (i. e., each string begins with several (maybe zero) characters <span class=\"tex-font-style-tt\">a</span>, then several (maybe zero) characters <span class=\"tex-font-style-tt\">b</span>, ..., ends with several (maybe zero) characters <span class=\"tex-font-style-tt\">z</span>).</p><p>For each of $$$2^n$$$ subsequences of $$$[s_1, s_2, \\dots, s_n]$$$, calculate the value of the function $$$f$$$ modulo $$$998244353$$$.</p>","ru":"<p>Для последовательности строк $$$[t_1, t_2, \\dots, t_m]$$$ введем функцию $$$f([t_1, t_2, \\dots, t_m])$$$, которая равна кол-ву различных строк (<span class=\"tex-font-style-bf\">включая пустую строку</span>), которые являются подпоследовательностями <span class=\"tex-font-style-bf\">хотя бы одной</span> строки $$$t_i$$$. $$$f([]) = 0$$$ (то есть значение такой функции для пустой последовательности строк равно $$$0$$$).</p><p>Вам задана последовательность строк $$$[s_1, s_2, \\dots, s_n]$$$. Каждая строка в этой последовательности состоит из строчных латинских букв и является <span class=\"tex-font-style-bf\">отсортированной</span> (то есть каждая строка начинается с нескольких (возможно, ни одного) символов <span class=\"tex-font-style-tt\">a</span>, затем идут несколько (возможно, ноль) символов <span class=\"tex-font-style-tt\">b</span>, ..., в конце идут несколько (возможно, ноль) символов <span class=\"tex-font-style-tt\">z</span>).</p><p>Для каждой из $$$2^n$$$ подпоследовательностей $$$[s_1, s_2, \\dots, s_n]$$$, посчитайте значение функции $$$f$$$ по модулю $$$998244353$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains one integer $$$n$$$ ($$$1 \\le n \\le 23$$$) — the number of strings.</p><p>Then $$$n$$$ lines follow. The $$$i$$$-th line contains the string $$$s_i$$$ ($$$1 \\le |s_i| \\le 2 \\cdot 10^4$$$), consisting of lowercase Latin letters. Each string $$$s_i$$$ is sorted.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке задано одно целое число $$$n$$$ ($$$1 \\le n \\le 23$$$) — количество строк.</p><p>Затем следуют $$$n$$$ строк. $$$i$$$-я из них содержит строку $$$s_i$$$ ($$$1 \\le |s_i| \\le 2 \\cdot 10^4$$$), состоящую из строчных латинских букв. Каждая строка $$$s_i$$$ является отсортированной.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Since printing up to $$$2^{23}$$$ integers would be really slow, you should do the following:</p><p>For each of the $$$2^n$$$ subsequences (which we denote as $$$[s_{i_1}, s_{i_2}, \\dots, s_{i_k}]$$$), calculate $$$f([s_{i_1}, s_{i_2}, \\dots, s_{i_k}])$$$, take it modulo $$$998244353$$$, then multiply it by $$$k \\cdot (i_1 + i_2 + \\dots + i_k)$$$. Print the XOR of all $$$2^n$$$ integers you get.</p><p>The indices $$$i_1, i_2, \\dots, i_k$$$ in the description of each subsequences are $$$1$$$-indexed (i. e. are from $$$1$$$ to $$$n$$$).</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Так как выводить $$$2^{23}$$$ чисел довольно долго, представьте ответ следующим образом:</p><p>Для каждой из $$$2^n$$$ подпоследовательностей (мы обозначим подпоследовательность как $$$[s_{i_1}, s_{i_2}, \\dots, s_{i_k}]$$$) посчитайте $$$f([s_{i_1}, s_{i_2}, \\dots, s_{i_k}])$$$, возьмите это значение по модулю $$$998244353$$$, а затем умножьте на $$$k \\cdot (i_1 + i_2 + \\dots + i_k)$$$. Выведите XOR всех $$$2^n$$$ чисел, которые у вас получатся.</p><p>Индексы $$$i_1, i_2, \\dots, i_k$$$ в описании подпоследовательности заданы в $$$1$$$-индексации (то есть они от $$$1$$$ до $$$n$$$).</p>"},"noteHtml":{"en":null,"ru":null},"sampleTestcases":[{"id":1657132407498,"input":"3\na\nb\nc\n","output":"92\n"},{"id":1657132407499,"input":"2\naa\na\n","output":"21\n"},{"id":1657132407500,"input":"2\na\na\n","output":"10\n"},{"id":1657132407501,"input":"2\nabcd\naabb\n","output":"124\n"},{"id":1657132407502,"input":"3\nddd\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\naaaaaaaabbbbbbbbbbbcccccccccccciiiiiiiiiiiiiiiiiiiiiiooooooooooqqqqqqqqqqqqqqqqqqvvvvvzzzzzzzzzzzz\n","output":"15706243380\n"}],"submitUrl":"https://codeforces.com/contest/1620/submit","language":"java","isPartOfContest":true}